<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=windows-1251">
<TITLE></TITLE>
<style type="text/css">
p {
margin:0cm;
margin-bottom:.0001pt;
text-align:justify;
text-indent:35.45pt;
mso-pagination:widow-orphan;
font-size:12.0pt;
font-family:"arial";
mso-fareast-font-family:"arial";
}
.code{font-family:"Courier New";font-size:10pt}
</style>
</HEAD>
<BODY>
<basefont face=arial size=3>
<B></B>
<table border="0" cellpadding="0" cellspacing="0" width="100%"
 height="31">
<TR>
 <TD width="100%" bgcolor="#000000"><div align=right><font color="#FFFFFF" size=3 face=Arial><b>ѕрограммирование
 на €зыках высокого уровн€. язык программировани€ ѕаскаль&nbsp;</b></font></div></td>
</TR>
</table>
<table border="0" cellpadding="2" cellspacing="0" width="100%" height="35">
<TR>
 <TD width="486" bgcolor=gray height="26">
<P align=right>&nbsp;</p>
 </td>
 <TD width="230" bgcolor="#EEE0BF" height="26"><p align=center><font size=2 face=Arial color="#0000FF"><a href="P6.htm">
</a><a href="lec5.htm">назад</a> | <a href="index_lec.htm">оглавление</a>
| <a href="lec7.htm"> вперЄд</a></font></p>
 </td>
 <TD width="43" height="26">&nbsp;</td>
</TR>
</table><br>
<table width="100%" border="0" cellspacing="0" cellpadding="0">
<TR>
 <TD><div align=center></div> 
 <P><b>6. —троковый тип данных</b></P>
 <P>&nbsp;</P>
<P></P>
<P><b><u>6.1 ќписание строк</u></b></P>
<P>&nbsp;</P>
<P><U><I>—трока</i></u> Ц это последовательность символов 
 произвольной длины (до 255 символов). —троку можно рассматривать, как 
 массив символов переменной длины. ћаксимальное количество символов в строке 
 <I>указываетс€ при ее описании</I> в квадратных скобках:</P>
<P>varstr1: string[80];</P>
<P>&nbsp;&nbsp;&nbsp;str2: string;</P>
<P>&nbsp;</P>
<P>≈сли в квадратных скобках не указан максимальный размер 
 строки, то он считаетс€ равным 255.</P>
<P>—трока может быть описана как <I>типизированна€ константа</I>:</P>
<P>const str10: string[10]=Т€нварьТ;</P>
<P>¬ пам€ти дл€ строки длины N отводитс€ N+1 байт, пронумерованных 
 от 0 до N. ¬ нулевом байте хранитс€ текущее значение длины строки.</P>
<P>&nbsp;</P>
<P><img src="img/pic2.gif" width="240" height="45"> 
</P>
<P>&nbsp;</P>
<P> огда измен€етс€ содержание строки, автоматически пересчитываетс€ 
 ее текуща€ длина и мен€етс€ значение 0-го байта. ¬сегда можно определить 
 текущую длину строки:</P>
<P><span class=code>l:=ord(str10[0]);</span></P>
<P class=code>writeln(l);</P>
<P class=code>&nbsp;</P>
<P>ƒопустимо обращение к отдельным символам строки:</P>
<P class=code>vars: string;</P>
<P class=code>begin</P>
<P class=code>&nbsp;s:=ТстолТ;</P>
<P class=code>&nbsp;writeln(s);| стол</P>
<P class=code>&nbsp;s[3]:=ТуТ;</P>
<P class=code>&nbsp;writeln(s);| стул</P>
<P class=code>end.</P>
<P>&nbsp;</P><P>&nbsp;</P>
<P></P>
<P><b><u><a name="6_2"></a>6.2 ќперации со строками</u></b></P>
<P>&nbsp;</P>
<P></P>
<P><u><i>—цепление строк (конкатенаци€) У+Ф</i></u></P>
<P></P>
<P>Ёта операци€ добавл€ет к первой строке вторую.</P>
<P></P>
<P><u>ѕример 1:</u></P>
<P class=code>varst1, st2, st3: string[20];</P>
<P class=code>begin</P>
<P class=code>&nbsp;st1:=Т“урбоТ;</P>
<P class=code>&nbsp;st2:=ТѕаскальТ;</P>
<P class=code>&nbsp;st3:=st1+Т Т+st2;</P>
<P class=code>&nbsp;writeln(st3);| 
 “урбо ѕаскаль</P>
<P class=code>end.</P>
<P>&nbsp;</P>
<P></P>
<P><u>ѕример 2:</u></P>
<P class=code>varst1, st2: string[7];</P>
<P class=code>begin</P>
<P class=code>&nbsp;st1:=ТstudentТ;student</P>
<P class=code>&nbsp;st2:=Т123Т;123</P>
<P class=code>&nbsp;st1:=st2+st1;123stud</P>
<P class=code>end.</P>
<P>&nbsp;</P>
<P></P>
<P><i><u>—равнение строк (&gt;, &lt;, &gt;=, &lt;=, =, &lt;&gt;)</u></i></P>
<P>—равнение двух строк осуществл€етс€ следующим образом. 
 —имволы строк сравниваютс€ попарно друг с другом так, что первый символ 
 первой строки сравниваетс€ с первым символом второй строки, второй символ 
 первой строки - со вторым символом второй и т.д. —имволы сравниваютс€ 
 путем сравнени€ их кодов во внутреннем представлении. ≈сли одна строка 
 короче другой, недостающие символы замен€ютс€ нулем. ќтношение первой 
 несовпадающей друг с другом пары символов и принимаетс€ за отношение двух 
 строк.</P>
<P>СabcТ=ТabcТСAbcТ&lt;ТabcТ</P>
<P>СabТ&lt;ТabcТСAbcТ&lt;Т1abТ</P>
<P>СABCТ&lt;ТabТ</P>
<P>&nbsp;</P>
<P></P>
<P><b><u><a name="6_3"></a>6.3 ѕроцедуры и функции дл€ работы 
 со строками</u></b></P>
<P>&nbsp;</P>
<P></P>
<P><I><B>length (s: string): integer;</b></i> - функци€ 
 возвращает текущий размер строки (т.е. количество символов в строке; пробел 
 тоже считаетс€ символом).</P>
<P><span class=code>varn: integer;</span></P>
<P class=code>&nbsp;&nbsp;&nbsp;str: 
 string[15];</P>
<P class=code>begin</P>
<P class=code>&nbsp;str:=ТTurbo PascalТ;</P>
<P class=code>&nbsp;n:=length(str);</P>
<P class=code>&nbsp;write(Сn=Т,n);&nbsp;&nbsp;&nbsp; 
 | n=12</P>
<P class=code>end.</P>
<P>&nbsp;</P>
<P></P>
<P><I><B>copy (s: string; n1, n2: integer): string;</b></i> 
 - функци€ копирует из сроки S n2 символов, начина€ с символа n1.</P>
<P><span class=code>st1:=ТabcdefТ;</span></P>
<P class=code>st2:=copy(st1,2,3);&nbsp;|bcd</P>
<P></P>
<P><I><B>delete (var s: string; n1, n2: integer);</b></i> 
 - процедура удал€ет из строки S n2 символов, начина€ с символа n1.</P>
<P><span class=code>st1:=ТabcdefТ;</span></P>
<P class=code>delete(st1,1,3);&nbsp;| 
 def</P>
<P></P>
<P><I><B>insert (s1: string; var s2: string; n1: integer);</b></i> 
 - процедура вставл€ет строку s1 в строку s2, начина€ с символа n1.</P>
<P><span class=code>st1:=ТabcdefТ;</span></P>
<P class=code>insert(С++Т,st1,4);&nbsp;|abc++def</P>
<P></P>
<P><I><B>pos (s1,s2: string): byte;</b></i> - функци€ возвращает 
 номер позиции первого вхождени€ строки s1 в строку s2. ≈сли строка s1 
 не входит в строку s2, то возвращает 0.</P>
<P><span class=code>st:=ТabcdefТ;</span></P>
<P class=code>n:=pos(СdТ,st);|n=4</P>
<P class=code>k:=pos(СdcТ,st);| k=0</P>
<P><I><B>str (x[:M[:N]]; var s: string);</b></i> - процедура 
 преобразует число х в строку символов S; M,N Ц необ€зательные форматы 
 вывода числа, аналогичные write.</P>
<P><span class=code>varx: real;</span></P>
<P class=code>n: integer;</P>
<P class=code>st: string;</P>
<P class=code>begin</P>
<P class=code>&nbsp;x:=3.141592;</P>
<P class=code>&nbsp;n:=5;</P>
<P class=code>&nbsp;str(x,st);st=Т3.141592Т;</P>
<P class=code>&nbsp;str(n,st);st=Т5Т;</P>
<P class=code>&nbsp;str(x:4:2,st);st=Т3.14Т;</P>
<P class=code>end.</P>
<P>&nbsp;</P>
<P></P>
<P><I><B>val (s: string; var x, cod: integer);</b></i> - 
 процедура преобразует строку s в целое или вещественное число х. ≈сли 
 преобразование прошло успешно, то cod=0, иначе cod=номер символа, вызвавшего 
 ошибку.</P>
<P><span class=code>varx: real;</span></P>
<P class=code>n, cod: integer;</P>
<P class=code>st: string;</P>
<P class=code>begin</P>
<P class=code>&nbsp;&nbsp;st:=Т3.14Т;</P>
<P class=code>&nbsp;&nbsp;val(st,x,cod);&nbsp;|cod=0</P>
<P class=code>&nbsp;&nbsp;val(st,n,cod);&nbsp;|cod=2</P>
<P class=code>end.</P>
<P></P>
<P><I><B>upcase (c: char): char;</b></i> - функци€ преобразует 
 строчную латинскую букву в заглавную</P>
<P>1) <span class=code>varst: string;</span></P>
<P class=code>begin</P>
<P class=code>&nbsp;st:=Тa bcТ;</P>
<P class=code>&nbsp;st[3]:= upcase(st[3]);</P>
<P class=code>&nbsp;write(st); | a Bc</P>
<P class=code>end.</P>
<P></P>
<P>2) <span class=code>repeat</span></P>
<P><span class=code>Е</span></P>
<P class=code>write(С«авершить? (Y/N)Т);</P>
<P class=code>&nbsp;readln(c);</P>
<P class=code> until (upcase(c)=ТYТ);</P>
<P>&nbsp;</P>
<P></P>
<P><U>ѕример 1</u>: ”далить из строки все точки.</P>
<P class=code>varst: string;</P>
<P class=code>&nbsp;&nbsp;&nbsp;n: 
 integer;</P>
<P class=code>begin</P>
<P class=code>&nbsp;write(Свведите строкуТ);</P>
<P class=code>&nbsp;readln(st);</P>
<P class=code>&nbsp;repeat</P>
<P class=code>&nbsp;&nbsp;n:=pos(С.Т,st);</P>
<P class=code>&nbsp;&nbsp;delete(st,n,1);</P>
<P class=code>&nbsp;until n=0;</P>
<P class=code>&nbsp;writeln(st);</P>
<P class=code>end.</P>
<P>&nbsp;</P>
<P></P>
<P><U>ѕример 2</u>: ”далить из строки все цифры.</P>
<P class=code>varst: string;</P>
<P class=code>&nbsp;&nbsp;n: integer;</P>
<P class=code>&nbsp;&nbsp;c: char;</P>
<P class=code>begin</P>
<P class=code>&nbsp;write(Свведите строкуТ);</P>
<P class=code>&nbsp;readln(st);</P>
<P class=code>&nbsp;for c:=Т0Т to С9Т do</P>
<P></P>
<P class=code>&nbsp;&nbsp;&nbsp;repeat</P>
<P class=code>&nbsp;&nbsp;&nbsp;&nbsp;n:=pos(c,st);</P>
<P class=code>&nbsp;&nbsp;&nbsp;&nbsp;delete(st,n,1);</P>
<P class=code>&nbsp;&nbsp;&nbsp;until n=0;</P>
<P class=code>&nbsp;writeln(st);</P>
<P class=code>end.</P>
<P>&nbsp;</P>
<P></P>
<P><U>ѕример 3</u>: ѕомен€ть в строке пор€док символов на 
 обратный (abcd на dcba).</P>
<P class=code>varst: string;</P>
<P class=code>&nbsp;&nbsp;&nbsp;n: 
 integer;</P>
<P class=code>&nbsp;&nbsp;&nbsp;c: 
 char;</P>
<P class=code>begin</P>
<P class=code>&nbsp;write(Свведите строкуТ);</P>
<P class=code>&nbsp;readln(st);</P>
<P class=code>&nbsp;for i:=1 to length(st) div 
 2 do</P>
<P class=code>&nbsp;begin</P>
<P class=code>&nbsp;&nbsp;c:=st[i];</P>
<P class=code>&nbsp;&nbsp;st[i]:=st[length(st)-i+1];</P>
<P class=code>&nbsp;&nbsp;st[length(st)-i+1]:=c;</P>
<P class=code>&nbsp;end;</P>
<P class=code>&nbsp;writeln(st);</P>
<P class=code>end.</P>
<P></P>
<P>&nbsp;</P>
<P><b><u><a name="z"></a>«адачи дл€ самоконтрол€</u></b></P>
<P>&nbsp;</P>
<P></P>
<P><B>6.1 </b>ќпределите значение переменной n после выполнени€ 
 следующей программы:</P>
<P><span class=code>varn: integer;</span></P>
<P class=code>&nbsp;&nbsp;&nbsp;str: 
 string[25];</P>
<P class=code>begin</P>
<P class=code>&nbsp;str:=Ћев “олстойТ;</P>
<P class=code>&nbsp;n:=length(str);</P>
<P class=code>&nbsp;write(Сn=Т,n);</P>
<P class=code>end.</P>
<P></P>
<P><B>6.2 </b>ќпределите значение переменной st2 после выполнени€ 
 следующих фрагментов программ:</P>
<P>а) <span class=code>st1:=Тabc defТ;</span></P>
<P class=code> st2:=copy(st1,5,2);</P>
<P></P>
<P>б) <span class=code>st2:=ТabcdefТ;</span></P>
<P class=code> delete(st2,3,2);</P>
<P></P>
<P> в) <span class=code>st2:=ТabcdТ;</span></P>
<P class=code> insert(С***Т,st2,2);</P>
<P></P>
<P>&nbsp;</P><P>&nbsp;</P>
 <P>&nbsp;</P>
</td>
</TR>
</table>
<hr>
<div align=center><font size=2 face=Arial color="#0000FF"><a href="lec5.htm">назад</a> 
 | <a href="index_lec.htm">оглавление</a> | <a href="lec7.htm"> вперЄд</a></font></div>
</BODY>
</HTML>
